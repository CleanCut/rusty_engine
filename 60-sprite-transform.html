<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Transform - Rusty Engine Tutorial</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="00-welcome.html">Welcome to Rusty Engine!</a></li><li class="chapter-item expanded affix "><a href="02-quick-start.html">Quick Start Example</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="05-config.html"><strong aria-hidden="true">1.</strong> Configuration</a></li><li class="chapter-item expanded "><a href="10-assets.html"><strong aria-hidden="true">2.</strong> Asset Pack</a></li><li class="chapter-item expanded "><a href="15-init.html"><strong aria-hidden="true">3.</strong> Engine Initialization</a></li><li class="chapter-item expanded "><a href="20-game-state.html"><strong aria-hidden="true">4.</strong> Game State</a></li><li class="chapter-item expanded "><a href="25-game-logic-function.html"><strong aria-hidden="true">5.</strong> Game Logic Function</a></li><li class="chapter-item expanded "><a href="50-sprite.html"><strong aria-hidden="true">6.</strong> Sprite</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="55-sprite-creation.html"><strong aria-hidden="true">6.1.</strong> Creation</a></li><li class="chapter-item expanded "><a href="60-sprite-transform.html" class="active"><strong aria-hidden="true">6.2.</strong> Transform</a></li><li class="chapter-item expanded "><a href="65-sprite-collider.html"><strong aria-hidden="true">6.3.</strong> Collider</a></li></ol></li><li class="chapter-item expanded "><a href="100-input.html"><strong aria-hidden="true">7.</strong> Input</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="105-keyboard-state.html"><strong aria-hidden="true">7.1.</strong> Keyboard State</a></li><li class="chapter-item expanded "><a href="110-keyboard-events.html"><strong aria-hidden="true">7.2.</strong> Keyboard Events</a></li><li class="chapter-item expanded "><a href="115-mouse-state.html"><strong aria-hidden="true">7.3.</strong> Mouse State</a></li><li class="chapter-item expanded "><a href="120-mouse-events.html"><strong aria-hidden="true">7.4.</strong> Mouse Events</a></li></ol></li><li class="chapter-item expanded "><a href="150-text.html"><strong aria-hidden="true">8.</strong> Text</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="155-text-creation.html"><strong aria-hidden="true">8.1.</strong> Creation</a></li><li class="chapter-item expanded "><a href="160-text-attributes.html"><strong aria-hidden="true">8.2.</strong> Value, Font &amp; Font Size</a></li><li class="chapter-item expanded "><a href="165-text-transform.html"><strong aria-hidden="true">8.3.</strong> Transform</a></li></ol></li><li class="chapter-item expanded "><a href="200-audio.html"><strong aria-hidden="true">9.</strong> Audio</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="205-music.html"><strong aria-hidden="true">9.1.</strong> Music</a></li><li class="chapter-item expanded "><a href="210-sfx.html"><strong aria-hidden="true">9.2.</strong> Sound Effects</a></li></ol></li><li class="chapter-item expanded "><a href="250-timer.html"><strong aria-hidden="true">10.</strong> Timer</a></li><li class="chapter-item expanded "><a href="400-engine-state.html"><strong aria-hidden="true">11.</strong> EngineState</a></li><li class="chapter-item expanded "><a href="450-game.html"><strong aria-hidden="true">12.</strong> Game</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Rusty Engine Tutorial</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#transform" id="transform">Transform</a></h1>
<p>A &quot;transform&quot; is a fancy term for the way that you can position and size your sprite. There are four different fields you can use to position and size your sprite:</p>
<h3><a class="header" href="#translation" id="translation">Translation</a></h3>
<p><code>Sprite.translation</code> is a <a href="https://docs.rs/glam/latest/glam/f32/struct.Vec2.html"><code>Vec2</code></a> containing the X and Y coordinates of your sprite's position on the screen. The coordinate system works just like it does in math class. <code>(0.0, 0.0)</code> is in the center of the screen. Positive X goes to the right side of the screen. Positive Y goes to the top of the screen. Every increment of <code>1.0</code> is one logical pixel on the screen. Hi-DPI screens may have more than one physical pixel per logical pixel. See the <a href="400-engine-state.html"><code>EngineState</code></a> section for details on how to check the logical pixel dimensions of your window.</p>
<h3><a class="header" href="#rotation" id="rotation">Rotation</a></h3>
<p><code>Sprite.rotation</code> is an <code>f32</code> representing the angle in radians from the positive X axis. In other words, a rotation of <code>0.0</code> is facing to the right, so custom images you want to use in Rusty Engine should also be &quot;facing&quot; to the right in their raw form (whatever &quot;to the right&quot; means is up to you). <code>2 * PI</code> brings you in a full circle, so <code>0.5 * PI</code> is &quot;up&quot;, <code>PI</code> is &quot;left&quot;, and <code>1.5 * PI</code> is &quot;down&quot;. There are a bunch of helpful constants defined for cardinal directions if you don't want to remember the numerical value yourself.</p>
<h3><a class="header" href="#scale" id="scale">Scale</a></h3>
<p><code>Sprite.scale</code> is an <code>f32</code>. <code>1.0</code> means matching a pixel of the source image to a pixel on the screen. <code>2.0</code> makes the image twice as wide and tall, etc.</p>
<h3><a class="header" href="#layer" id="layer">Layer</a></h3>
<p><code>Sprite.layer</code> is an <code>f32</code> that affects what sprite or text is &quot;on top&quot; of another sprite or text when they overlap. <code>0.0</code> is the default and &quot;bottom&quot; layer, and <code>999.0</code> is the &quot;top&quot; layer. The order of sprites or text on the same layer is random and unstable (can change frame to frame), so you should make sure that sprites and text that will overlap are on different layers. A good practice is to choose a few layers and assign them to constants. For example:</p>
<pre><code class="language-rust ignored">const BACKGROUND_LAYER: f32 = 0.0;
const CHARACTER_LAYER: f32 = 1.0;
const EFFECTS_LAYER: f32 = 2.0;
const UI_BOTTOM_LAYER: f32 = 3.0;
const UI_TOP_LAYER: f32 = 4.0;
</code></pre>
<h3><a class="header" href="#adjusting-your-newly-created-sprite" id="adjusting-your-newly-created-sprite">Adjusting your newly-created sprite</a></h3>
<p>When you create a sprite, you get a mutable reference to the newly-created sprite that you can use to adjust it.</p>
<pre><code class="language-rust ignored">let player = engine_state.add_sprite(&quot;my_player&quot;, SpritePreset::RacingCarBlue);
player.translation = Vec2::new(200.0, 100.0); // Move the car up and to the right
player.rotation = UP; // UP is one of the built-in constants you can use
player.scale = 2.5; // It's a BIG car!
player.layer = CHARACTER_LAYER; // as in previous code snippet
</code></pre>
<p>The <code>Vec2</code> type used for the <code>translation</code> field is from <code>glam</code>, and has <a href="https://docs.rs/glam/latest/glam/f32/struct.Vec2.html">its own documentation</a> you can read up on if you're interested.  The thing you'll probably use the most are its <code>x</code> and <code>y</code> fields:</p>
<pre><code class="language-rust ignored">player.translation.x += 45.0 * engine_state.delta_f32;
player.translation.y -= 10.0 * engine_state.delta_f32;
</code></pre>
<p>NOTE: If you want to adjust your sprite smoothly, you will need to multiply it by the frame's delta value. See the <a href="400-engine-state.html"><code>EngineState</code></a> section for more details.</p>
<h3><a class="header" href="#adjusting-an-existing-sprite" id="adjusting-an-existing-sprite">Adjusting an existing sprite</a></h3>
<p>To adjust a sprite which already exists, you need to get a mutable reference to it.  This is where that &quot;label&quot; comes in.  The <code>EngineState.sprites</code> field is a hash map of labels to sprites. You get a mutable reference to a sprite with the <code>HashMap::get_mut</code> method:</p>
<pre><code class="language-rust ignored">// Be careful with unwrap()! If the entry isn't there, this will crash your game.
let player_reference = engine_state.sprites.get_mut(&quot;my_player&quot;).unwrap();
player_reference.rotation += TURN_SPEED_PER_SEC * engine_state.delta_f32;
</code></pre>
<h3><a class="header" href="#deleting-a-sprite" id="deleting-a-sprite">Deleting a sprite</a></h3>
<p>To delete a sprite, simply remove it from the <code>EngineState.sprites</code> hash map.</p>
<pre><code class="language-rust ignored">engine_state.sprites.remove(&quot;my_player&quot;);
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="55-sprite-creation.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="65-sprite-collider.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="55-sprite-creation.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="65-sprite-collider.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
