<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Mouse Events - Rusty Engine Tutorial</title>


        <!-- Custom HTML head -->

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="00-welcome.html">Welcome to Rusty Engine!</a></li><li class="chapter-item expanded affix "><a href="02-quick-start.html">Quick Start Example</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="05-config.html"><strong aria-hidden="true">1.</strong> Configuration</a></li><li class="chapter-item expanded "><a href="10-assets.html"><strong aria-hidden="true">2.</strong> Asset Pack</a></li><li class="chapter-item expanded "><a href="15-init.html"><strong aria-hidden="true">3.</strong> Engine Initialization</a></li><li class="chapter-item expanded "><a href="20-game-state.html"><strong aria-hidden="true">4.</strong> Game State</a></li><li class="chapter-item expanded "><a href="25-game-logic-function.html"><strong aria-hidden="true">5.</strong> Game Logic Function</a></li><li class="chapter-item expanded "><a href="50-sprite.html"><strong aria-hidden="true">6.</strong> Sprite</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="55-sprite-creation.html"><strong aria-hidden="true">6.1.</strong> Creation</a></li><li class="chapter-item expanded "><a href="60-sprite-placement.html"><strong aria-hidden="true">6.2.</strong> Placement</a></li><li class="chapter-item expanded "><a href="65-sprite-collider.html"><strong aria-hidden="true">6.3.</strong> Collider</a></li></ol></li><li class="chapter-item expanded "><a href="100-input.html"><strong aria-hidden="true">7.</strong> Input</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="105-keyboard-state.html"><strong aria-hidden="true">7.1.</strong> Keyboard State</a></li><li class="chapter-item expanded "><a href="110-keyboard-events.html"><strong aria-hidden="true">7.2.</strong> Keyboard Events</a></li><li class="chapter-item expanded "><a href="115-mouse-state.html"><strong aria-hidden="true">7.3.</strong> Mouse State</a></li><li class="chapter-item expanded "><a href="120-mouse-events.html" class="active"><strong aria-hidden="true">7.4.</strong> Mouse Events</a></li></ol></li><li class="chapter-item expanded "><a href="150-text.html"><strong aria-hidden="true">8.</strong> Text</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="155-text-creation.html"><strong aria-hidden="true">8.1.</strong> Creation</a></li><li class="chapter-item expanded "><a href="160-text-attributes.html"><strong aria-hidden="true">8.2.</strong> Value, Font &amp; Font Size</a></li><li class="chapter-item expanded "><a href="165-text-placement.html"><strong aria-hidden="true">8.3.</strong> Placement</a></li></ol></li><li class="chapter-item expanded "><a href="200-audio.html"><strong aria-hidden="true">9.</strong> Audio</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="205-music.html"><strong aria-hidden="true">9.1.</strong> Music</a></li><li class="chapter-item expanded "><a href="210-sfx.html"><strong aria-hidden="true">9.2.</strong> Sound Effects</a></li></ol></li><li class="chapter-item expanded "><a href="250-timer.html"><strong aria-hidden="true">10.</strong> Timer</a></li><li class="chapter-item expanded "><a href="400-engine.html"><strong aria-hidden="true">11.</strong> Engine</a></li><li class="chapter-item expanded "><a href="450-game.html"><strong aria-hidden="true">12.</strong> Game</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Rusty Engine Tutorial</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="mouse-events"><a class="header" href="#mouse-events">Mouse Events</a></h1>
<p>Every movement of the mouse, click of a mouse button, or scrolling tick of a scroll wheel generates a mouse event. All of the mouse events are stored into a set of vectors on <code>Engine</code> that can be examined. At the end of each frame, any unprocessed events are thrown away.</p>
<p>Mouse events are most useful when you want to process multiple events that happened within a single frame, such as processing all of the points that a mouse traversed, or all of the mousewheel clicks that happened in a single frame.</p>
<h3 id="mouse-button-events"><a class="header" href="#mouse-button-events">Mouse button events</a></h3>
<p>You usually want to use <a href="115-mouse-state.html">mouse state</a> for mouse buttons, which are less awkward to deal with than mouse events when you only care about the state the mouse ended up in at the end of the frame. Mouse events are available in the <code>Engine.mouse_button_events</code> vector. The Bevy struct <a href="https://docs.rs/rusty_engine/latest/rusty_engine/mouse/struct.MouseButtonInput.html"><code>MouseButtonInput</code></a> is used for the event value.  Here is an example of using mouse button events to rotate a sprite by a fixed amount for each click. This is guaranteed not to miss any clicks in the (unlikely) event that two clicks come in on the same frame.</p>
<pre><code class="language-rust ignored">for mouse_button_input in &amp;engine.mouse_button_events {
    if mouse_button_input.state != ElementState::Pressed {
        break;
    }
    match mouse_button_input.button {
        MouseButton::Left =&gt; sprite.rotation += std::f32::consts::FRAC_PI_4,
        MouseButton::Right =&gt; sprite.rotation -= std::f32::consts::FRAC_PI_4,
        _ =&gt; {}
    }
}
</code></pre>
<h3 id="mouse-location-events"><a class="header" href="#mouse-location-events">Mouse location events</a></h3>
<p>Mouse location events are most useful if you are trying to capture all the points the mouse was at during the frame. Unlike mouse button events, there are <em>often</em> multiple mouse location events, since moving the mouse produces a series of events for each location that the mouse cursor is rendered on screen. If you only care about the final location of the mouse during the frame, you should use <a href="115-mouse-state.html">mouse state</a> instead.</p>
<p>Mouse location events are accessed through the <code>Engine.mouse_location_events</code> vector and contain the <a href="https://docs.rs/rusty_engine/latest/rusty_engine/mouse/struct.CursorMoved.html"><code>CursorMoved</code></a> struct re-exported from Bevy. If one wanted to draw a trail of sparkles wherever a mouse went, mouse location events might be a good source of data:</p>
<pre><code class="language-rust ignored">for cursor_moved in &amp;engine.mouse_location_events {
    // draw sparkles at cursor_moved.position
}
</code></pre>
<h3 id="mouse-motion-events"><a class="header" href="#mouse-motion-events">Mouse motion events</a></h3>
<p>Each location event has a corresponding motion event which reports the <em>relative</em> motion of the mouse, rather than the absolute location.  Mouse motion events are accessed through the <code>Engine.mouse_motion_events</code> vector and contain the <a href="https://docs.rs/rusty_engine/latest/rusty_engine/mouse/struct.MouseMotion.html"><code>MouseMotion</code></a> struct re-exported from Bevy.</p>
<pre><code class="language-rust ignored">for mouse_motion in &amp;engine.state.mouse_motion_events {
    // do something with mouse_motion.delta
}
</code></pre>
<h3 id="mouse-wheel-events"><a class="header" href="#mouse-wheel-events">Mouse wheel events</a></h3>
<p>As the mouse wheel tends to produce multiple events in a single frame, mouse wheel events may tend to be more useful than the mouse wheel state. Mouse wheel events are accessed through the <code>Engine.mouse_wheel_events</code> vector and contain the <a href="https://docs.rs/rusty_engine/latest/rusty_engine/mouse/struct.MouseWheel.html"><code>MouseWheel</code></a> struct re-exported from Bevy. Here's an example of using the mouse wheel to scale the size of a sprite up or down. The <code>y</code> field represents the turning of the wheel. The <code>x</code> field represents sideways tilting motion for mouse wheels that support it.</p>
<pre><code class="language-rust ignored">for mouse_wheel in &amp;engine.mouse_wheel_events {
    sprite.scale *= 1.0 + (0.05 * mouse_wheel.y);
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="115-mouse-state.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="150-text.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="115-mouse-state.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="150-text.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
